<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>GOLD TAP</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>

<style>
*{ -webkit-tap-highlight-color:transparent }
body{
  margin:0;
  background:#000;
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  color:#fff;
  overflow:hidden;
}

.app{
  height:100vh;
  display:flex;
  flex-direction:column;
}

/* TOP */
.top{
  padding:16px;
  text-align:center;
}
.balance{
  font-size:34px;
  font-weight:900;
}
.unit{
  font-size:13px;
  opacity:.6;
}

/* CENTER */
.center{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

/* ORB */
.orb-wrap{
  position:relative;
}
.orb-glow{
  position:absolute;
  inset:-50px;
  background:radial-gradient(circle, rgba(255,255,255,.35), transparent 65%);
  filter:blur(22px);
  animation:pulseGlow 3s infinite ease-in-out;
}
@keyframes pulseGlow{
  0%{opacity:.4}
  50%{opacity:.8}
  100%{opacity:.4}
}

.orb{
  width:240px;
  height:240px;
  border-radius:50%;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:46px;
  font-weight:900;
  cursor:pointer;
  user-select:none;
  box-shadow:
    0 0 60px rgba(255,255,255,.35),
    inset 0 0 30px rgba(255,255,255,.15);
  animation:pulseOrb 3s infinite ease-in-out;
}
@keyframes pulseOrb{
  0%{transform:scale(1)}
  50%{transform:scale(1.03)}
  100%{transform:scale(1)}
}
.orb:active{ transform:scale(.96) }

/* FLOAT */
.float{
  position:absolute;
  font-weight:700;
  color:#ffd36a;
  animation:floatUp .9s ease forwards;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-60px);opacity:0}
}

/* ENERGY */
.energy{
  padding:0 16px 12px;
}
.energy-bar{
  height:8px;
  background:#222;
  border-radius:6px;
  overflow:hidden;
}
.energy-fill{
  height:100%;
  background:linear-gradient(90deg,#ffd36a,#ffb700);
}

/* MENU */
.menu{
  display:flex;
  border-top:1px solid #222;
}
.menu button{
  flex:1;
  background:none;
  border:none;
  color:#aaa;
  padding:12px 0;
  font-size:13px;
  cursor:pointer;
}
.menu .active{
  color:#ffd36a;
  font-weight:700;
}

/* SCREENS */
.screen{
  display:none;
  height:100%;
}
.screen.active{
  display:block;
}

/* WITHDRAW */
.withdraw{
  padding:20px;
  text-align:center;
}
input{
  width:100%;
  height:44px;
  border-radius:12px;
  border:none;
  margin-top:10px;
  padding:0 12px;
}
.btn{
  width:100%;
  height:44px;
  border-radius:12px;
  border:none;
  background:#ffd36a;
  color:#2b1c00;
  font-weight:900;
  margin-top:12px;
}
.small{font-size:12px;opacity:.7}
</style>
</head>

<body>
<div class="app">

  <!-- EARN -->
  <div class="screen active" id="earn">
    <div class="top">
      <div class="balance" id="balance">0</div>
      <div class="unit">GOLD</div>
    </div>

    <div class="center" id="zone">
      <div class="orb-wrap">
        <div class="orb-glow"></div>
        <div class="orb" id="orb">△</div>
      </div>
    </div>

    <div class="energy">
      <div class="energy-bar">
        <div class="energy-fill" id="energyFill"></div>
      </div>
    </div>
  </div>

  <!-- BOOSTS -->
  <div class="screen" id="boosts">
    <div class="withdraw">
      <h2>BOOSTS</h2>
      <div class="small">Скоро здесь будут бусты</div>
    </div>
  </div>

  <!-- WITHDRAW -->
  <div class="screen" id="withdraw">
    <div class="withdraw">
      <h2>Withdraw</h2>
      <div class="small">100 TAPS = 10 GOLD</div>
      <input id="gid" placeholder="Game ID">
      <input id="amt" placeholder="Amount">
      <button class="btn" onclick="doWithdraw()">Withdraw</button>
    </div>
  </div>

  <!-- MENU -->
  <div class="menu">
    <button class="active" onclick="show('earn',this)">Earn</button>
    <button onclick="show('boosts',this)">Boosts</button>
    <button onclick="show('withdraw',this)">Withdraw</button>
  </div>

</div>

<script>
/* ===== CONFIG ===== */
const MAX_ENERGY = 5500;

/* ===== STATE ===== */
let gold = +localStorage.getItem('gold') || 0;
let energy = +localStorage.getItem('energy') || MAX_ENERGY;

/* ===== DOM ===== */
const balanceEl = document.getElementById('balance');
const orb = document.getElementById('orb');
const zone = document.getElementById('zone');
const energyFill = document.getElementById('energyFill');

function save(){
  localStorage.setItem('gold',gold);
  localStorage.setItem('energy',energy);
}
function render(){
  balanceEl.textContent = gold.toLocaleString();
  energyFill.style.width = (energy/MAX_ENERGY*100)+'%';
}
render();

/* TAP */
orb.onclick = e=>{
  if(energy<=0) return;
  energy--;
  gold++;
  save(); render();

  const r=zone.getBoundingClientRect();
  const f=document.createElement('div');
  f.className='float';
  f.textContent='+1';
  f.style.left=(e.clientX-r.left)+'px';
  f.style.top=(e.clientY-r.top)+'px';
  zone.appendChild(f);
  setTimeout(()=>f.remove(),900);
};

/* ENERGY REGEN */
setInterval(()=>{
  energy=Math.min(MAX_ENERGY,energy+1);
  save(); render();
},1000);

/* NAV */
function show(id,btn){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

/* WITHDRAW */
function doWithdraw(){
  const id=document.getElementById('gid').value;
  const amt=+document.getElementById('amt').value;
  if(!id||amt<=0||amt>gold){
    alert('Invalid data');
    return;
  }
  gold-=amt;
  save(); render();
  alert('Success');
}
</script>
</body>
</html>
