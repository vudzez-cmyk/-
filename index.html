<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>STANDOFF GOLD TAP</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>

<style>
*{ -webkit-tap-highlight-color:transparent }
body{
  margin:0;
  background:#000;
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  color:#fff;
  overflow:hidden;
}
:root{ --safe-bottom: env(safe-area-inset-bottom, 0px); }

/* ---------- SUBSCRIBE ---------- */
.subscribe{
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:24px;
}
.subscribe button{
  width:260px;height:46px;
  border-radius:14px;border:none;
  background:#ffb300;color:#2b1c00;
  font-weight:900;margin-top:12px;
}

/* ---------- APP ---------- */
.app{
  height:100vh;
  display:grid;
  grid-template-rows:auto 1fr auto;
}

/* ---------- TOP ---------- */
.top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px 6px;
}
.app-title{
  font-size:14px;
  font-weight:700;
  letter-spacing:.6px;
  opacity:.85;
}
.balance-wrap{
  text-align:center;
  flex:1;
}
.balance{
  font-size:32px;
  font-weight:900;
}
.unit{
  font-size:12px;
  opacity:.6;
}

/* ---------- CENTER ---------- */
.center{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:18px;
}

/* ---------- ORB (NOTCOIN STYLE) ---------- */
.orb-wrap{ position:relative; }

.orb-glow-back{
  position:absolute;
  inset:-95px;
  background:
    radial-gradient(circle,
      rgba(255,170,0,.35) 0%,
      rgba(255,170,0,.18) 35%,
      rgba(255,170,0,.06) 55%,
      transparent 70%);
  filter:blur(42px);
  animation:glowBreath 3.8s infinite ease-in-out;
}

.orb-glow-front{
  position:absolute;
  inset:-45px;
  background:
    radial-gradient(circle,
      rgba(255,200,80,.65) 0%,
      rgba(255,170,0,.35) 40%,
      transparent 65%);
  filter:blur(22px);
  animation:glowBreath 3.8s infinite ease-in-out;
}

@keyframes glowBreath{
  0%{opacity:.55}
  50%{opacity:1}
  100%{opacity:.55}
}

.orb{
  width:240px;
  height:240px;
  border-radius:50%;
  background:
    radial-gradient(circle at 30% 28%,
      #ffe29a 0%,
      #ffbe3b 35%,
      #ff9f00 70%);
  box-shadow:
    inset 0 0 18px rgba(255,255,255,.25),
    inset 0 -18px 28px rgba(0,0,0,.25);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
  font-weight:900;
  color:#2b1c00;
  cursor:pointer;
  user-select:none;
}
.orb:active{ transform:scale(.96); }

/* ---------- ENERGY ---------- */
.energy{ width:82%; }
.energy-bar{
  height:7px;
  background:#222;
  border-radius:6px;
  overflow:hidden;
}
.energy-fill{
  height:100%;
  background:linear-gradient(90deg,#ffd36a,#ff9f00);
  transition:width .35s ease;
}

/* ---------- FLOAT ---------- */
.float{
  position:absolute;
  color:#ffd36a;
  font-weight:800;
  animation:floatUp .9s ease forwards;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-60px);opacity:0}
}

/* ---------- MENU ---------- */
.menu{
  display:flex;
  border-top:1px solid #222;
  padding-bottom:var(--safe-bottom);
}
.menu button{
  flex:1;
  background:none;
  border:none;
  color:#777;
  padding:10px 0;
  font-size:11px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
}
.menu svg{width:22px;height:22px;fill:currentColor}
.menu .active{color:#ffb300;font-weight:700}

/* ---------- SCREENS ---------- */
.screen{ display:none; }
.screen.active{ display:block; }

/* ---------- PANELS ---------- */
.panel{
  padding:24px;
  text-align:center;
}
.card{
  background:rgba(255,255,255,.05);
  border-radius:14px;
  padding:14px;
  margin-top:12px;
}
.btn{
  width:100%;
  height:44px;
  border-radius:12px;
  border:none;
  background:#ffb300;
  color:#2b1c00;
  font-weight:900;
  margin-top:12px;
}
.small{
  font-size:12px;
  opacity:.7;
}
</style>
</head>

<body>

<!-- ---------- SUBSCRIBE ---------- -->
<div class="subscribe" id="subscribe">
  <h2>–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª</h2>
  <div class="small">–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–≥—Ä–µ</div>
  <button onclick="openTG()">–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è</button>
  <button onclick="confirmSub()">–Ø –ø–æ–¥–ø–∏—Å–∞–ª—Å—è</button>
</div>

<div class="app" id="app" style="display:none">

  <!-- ---------- EARN ---------- -->
  <div class="screen active" id="earn">
    <div class="top">
      <div class="app-title">STANDOFF GOLD TAP</div>
      <div class="balance-wrap">
        <div class="balance" id="balance">0</div>
        <div class="unit">GOLD</div>
      </div>
      <div style="width:60px"></div>
    </div>

    <div class="center" id="zone">
      <div class="orb-wrap">
        <div class="orb-glow-back"></div>
        <div class="orb-glow-front"></div>
        <div class="orb" id="orb">GOLD</div>
      </div>

      <div class="energy">
        <div class="energy-bar">
          <div class="energy-fill" id="energyFill"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ---------- BOOSTS ---------- -->
  <div class="screen" id="boosts">
    <div class="panel">
      <h2>Boosts</h2>

      <div class="card">
        <b>‚ö° BOOST x2</b>
        <div class="small" id="b2xStatus"></div>
        <button class="btn" onclick="activateBoost2x()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>

      <div class="card">
        <b>ü§ñ AUTO TAP</b>
        <div class="small" id="autoStatus"></div>
        <button class="btn" onclick="activateAuto()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- ---------- WITHDRAW ---------- -->
  <div class="screen" id="withdraw">
    <div class="panel">
      <h2>–í—ã–≤–æ–¥</h2>
      <div class="small">100 TAPS = 10 GOLD</div>
      <div class="small">–ó–∞–≥–ª—É—à–∫–∞ UI (backend –ø–æ–∑–∂–µ)</div>
    </div>
  </div>

  <!-- ---------- MENU ---------- -->
  <div class="menu">
    <button class="active" onclick="show('earn',this)">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9"/></svg>Earn
    </button>
    <button onclick="show('boosts',this)">
      <svg viewBox="0 0 24 24"><polygon points="12,2 15,11 22,12 15,13 12,22 9,13 2,12 9,11"/></svg>Boosts
    </button>
    <button onclick="show('withdraw',this)">
      <svg viewBox="0 0 24 24"><path d="M12 2v14m0 0l-5-5m5 5l5-5"/></svg>–í—ã–≤–æ–¥
    </button>
  </div>

</div>

<script>
const TG='https://t.me/+s1VSvO5kwp45OTFi';
const MAX=5500;

/* BOOST CONFIG */
const B2X_TIME=30, B2X_CD=120;
const AUTO_TIME=60, AUTO_CD=300;

/* STATE */
let gold=+localStorage.getItem('gold')||0;
let energy=+localStorage.getItem('energy')||MAX;
let sub=localStorage.getItem('sub')==='1';

let b2xUntil=+localStorage.getItem('b2xUntil')||0;
let b2xCd=+localStorage.getItem('b2xCd')||0;
let autoUntil=+localStorage.getItem('autoUntil')||0;
let autoCd=+localStorage.getItem('autoCd')||0;

/* DOM */
const app=document.getElementById('app');
const subScr=document.getElementById('subscribe');
const balance=document.getElementById('balance');
const energyFill=document.getElementById('energyFill');
const orb=document.getElementById('orb');
const zone=document.getElementById('zone');

if(sub){ subScr.style.display='none'; app.style.display='grid'; }

function now(){ return Math.floor(Date.now()/1000); }
function isB2x(){ return now()<b2xUntil; }
function isAuto(){ return now()<autoUntil; }

function render(){
  balance.textContent=gold.toLocaleString();
  energyFill.style.width=(energy/MAX*100)+'%';

  const b=document.getElementById('b2xStatus');
  const a=document.getElementById('autoStatus');
  if(b){
    b.textContent=isB2x()?`–ê–∫—Ç–∏–≤–µ–Ω ${b2xUntil-now()}—Å`
      :now()<b2xCd?`–ö–î ${b2xCd-now()}—Å`:'–î–æ—Å—Ç—É–ø–µ–Ω';
  }
  if(a){
    a.textContent=isAuto()?`–ê–∫—Ç–∏–≤–µ–Ω ${autoUntil-now()}—Å`
      :now()<autoCd?`–ö–î ${autoCd-now()}—Å`:'–î–æ—Å—Ç—É–ø–µ–Ω';
  }
}
render();

/* TELEGRAM HAPTIC */
function haptic(){
  try{
    if(window.Telegram && Telegram.WebApp && Telegram.WebApp.HapticFeedback){
      Telegram.WebApp.HapticFeedback.impactOccurred('light');
    }
  }catch(e){}
}

/* SUB */
function openTG(){ window.open(TG,'_blank'); }
function confirmSub(){
  localStorage.setItem('sub','1');
  subScr.style.display='none';
  app.style.display='grid';
}

/* TAP */
orb.onclick=e=>{
  if(energy<=0) return;
  energy--;
  gold+=isB2x()?2:1;

  localStorage.setItem('gold',gold);
  localStorage.setItem('energy',energy);
  render();
  haptic();

  const r=zone.getBoundingClientRect();
  const f=document.createElement('div');
  f.className='float';
  f.textContent='+'+(isB2x()?2:1);
  f.style.left=(e.clientX-r.left)+'px';
  f.style.top=(e.clientY-r.top)+'px';
  zone.appendChild(f);
  setTimeout(()=>f.remove(),900);
};

/* ENERGY REGEN */
setInterval(()=>{
  energy=Math.min(MAX,energy+1);
  localStorage.setItem('energy',energy);
  render();
},1000);

/* AUTO TAP */
setInterval(()=>{
  if(isAuto() && energy>0){
    energy--;
    gold+=isB2x()?2:1;
    localStorage.setItem('gold',gold);
    localStorage.setItem('energy',energy);
    render();
  }
},2000);

/* BOOST ACTIONS */
function activateBoost2x(){
  if(now()<b2xCd) return;
  b2xUntil=now()+B2X_TIME;
  b2xCd=b2xUntil+B2X_CD;
  localStorage.setItem('b2xUntil',b2xUntil);
  localStorage.setItem('b2xCd',b2xCd);
}
function activateAuto(){
  if(now()<autoCd) return;
  autoUntil=now()+AUTO_TIME;
  autoCd=autoUntil+AUTO_CD;
  localStorage.setItem('autoUntil',autoUntil);
  localStorage.setItem('autoCd',autoCd);
}

/* NAV */
function show(id,btn){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}
</script>
</body>
</html>
