<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>STANDOFF GOLD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>

<style>
*{ -webkit-tap-highlight-color:transparent }
body{
  margin:0;
  background: radial-gradient(circle at top, #0b0f1a 0%, #05070f 70%);
  font-family:-apple-system,BlinkMacSystemFont,Arial,sans-serif;
  color:#fff;
  overflow:hidden;
}
.app{
  height:100vh;
  display:grid;
  grid-template-rows:auto 1fr auto;
  padding:16px;
  box-sizing:border-box;
}
.top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.title{
  font-weight:900;
  letter-spacing:2px;
}
.gold{
  color:#ffd36a;
  font-size:26px;
  font-weight:900;
}
.center{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.core{
  width:220px;height:220px;border-radius:18px;
  background:
    radial-gradient(circle at 30% 30%, #ffd36a, #c9a132 70%);
  box-shadow:
    0 0 30px rgba(255,211,106,.55),
    inset 0 6px 10px rgba(255,255,255,.35),
    inset 0 -12px 20px rgba(0,0,0,.45);
  display:flex;align-items:center;justify-content:center;
  font-size:22px;font-weight:900;color:#2b1c00;
  user-select:none;cursor:pointer;
  transition:transform .05s ease;
}
.core:active{ transform:scale(.95) }

.float{
  position:absolute;
  font-weight:800;
  color:#ffd36a;
  text-shadow:0 0 12px rgba(255,211,106,.9);
  animation:floatUp .9s ease forwards;
}
@keyframes floatUp{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-60px);opacity:0}
}

.bottom{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.card{
  background:rgba(255,255,255,.05);
  border-radius:14px;
  padding:14px;
}
.card h4{
  margin:0 0 10px 0;
  font-size:14px;
  opacity:.9;
}
.btn{
  width:100%;height:44px;
  border-radius:12px;border:none;
  background:#ffd36a;
  color:#2b1c00;
  font-weight:900;
  cursor:pointer;
}
.btn.secondary{
  background:transparent;
  border:1px solid #ffd36a;
  color:#ffd36a;
}
.btn:disabled{ opacity:.6; cursor:default }
.small{ font-size:12px; opacity:.8 }

input{
  width:100%;height:44px;
  border-radius:12px;border:none;
  padding:0 12px;
  font-size:15px;
  margin-bottom:10px;
}

/* MODAL */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.65);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10;
}
.modal .box{
  background:#0b0f1a;
  border-radius:16px;
  padding:22px;
  width:280px;
  text-align:center;
  box-shadow:0 0 30px rgba(255,211,106,.25);
}
.modal .ok{
  font-size:28px;
  color:#ffd36a;
  margin-bottom:8px;
}
</style>
</head>

<body>
<div class="app">
  <div class="top">
    <div class="title">STANDOFF GOLD</div>
    <div class="gold" id="goldTxt">0</div>
  </div>

  <div class="center" id="zone">
    <div class="core" id="core">TAP</div>
  </div>

  <div class="bottom">
    <div class="card">
      <h4>üí∞ –ë–∞–ª–∞–Ω—Å</h4>
      <div class="gold" id="goldBig">0</div>
      <div class="small">Gold –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–∞–ø–∞–º–∏</div>
    </div>
    <div class="card">
      <h4>üí≥ –í—ã–≤–æ–¥ Gold</h4>
      <input id="gid" placeholder="–ò–≥—Ä–æ–≤–æ–π ID" maxlength="12">
      <button class="btn" id="withdrawBtn">–í—ã–≤–µ—Å—Ç–∏</button>
      <div class="small" id="wdInfo">–ú–∏–Ω. –≤—ã–≤–æ–¥: 100 Gold</div>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="box">
    <div class="ok">‚úî</div>
    <div>–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞</div>
    <div class="small" id="modalTxt"></div>
    <div style="height:12px"></div>
    <button class="btn secondary" onclick="closeModal()">–û–∫</button>
  </div>
</div>

<script>
/* ===== CONFIG ===== */
const MIN_WITHDRAW = 100;

/* ===== STATE ===== */
let gold = +localStorage.getItem('gold') || 0;

/* ===== DOM ===== */
const goldTxt = document.getElementById('goldTxt');
const goldBig = document.getElementById('goldBig');
const core = document.getElementById('core');
const zone = document.getElementById('zone');
const gid = document.getElementById('gid');
const withdrawBtn = document.getElementById('withdrawBtn');
const modal = document.getElementById('modal');
const modalTxt = document.getElementById('modalTxt');

function save(){
  localStorage.setItem('gold', gold);
}
function render(){
  goldTxt.textContent = gold;
  goldBig.textContent = gold;
  withdrawBtn.disabled = gold < MIN_WITHDRAW;
}
render();

/* ===== TAP ===== */
core.onclick = (e)=>{
  gold++;
  save(); render();

  const r = zone.getBoundingClientRect();
  const f = document.createElement('div');
  f.className='float';
  f.textContent='+1 Gold';
  f.style.left=(e.clientX-r.left)+'px';
  f.style.top=(e.clientY-r.top)+'px';
  zone.appendChild(f);
  setTimeout(()=>f.remove(),900);
};

/* ===== WITHDRAW ===== */
withdrawBtn.onclick = ()=>{
  const id = gid.value.trim();
  if(!/^[0-9]+$/.test(id)){
    alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)');
    return;
  }
  if(gold < MIN_WITHDRAW){
    alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Gold');
    return;
  }

  // –∏–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏
  gold -= MIN_WITHDRAW;
  save(); render();

  modalTxt.textContent = `ID: ${id} ‚Ä¢ –°—É–º–º–∞: ${MIN_WITHDRAW} Gold`;
  modal.style.display='flex';
};

function closeModal(){
  modal.style.display='none';
}
</script>
</body>
</html>
